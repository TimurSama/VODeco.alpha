# Полный план доведения до релиза (максимально детализировано)

Цель: довести проект до полностью рабочей, релизной версии со всеми ключевыми функциями.

---

## Этап 0 — Архитектура и безопасность (foundation)
### Backend / Auth
- JWT‑сессии и cookie
- Middleware для защищённых API
- Роли и базовый RBAC
- Единые ошибки API

### Database
- PostgreSQL миграции Prisma
- Индексы и связи
- Seed‑данные для демо

### Инфраструктура
- Vercel deploy + логирование
- Sentry/Logs
- CI/CD (lint, build)

**Критерий готовности:** auth, API и БД стабильны на проде.

---

## Этап 1 — Онбординг и роли
### UX
- Выбор роли при входе
- Роль‑ориентированный профиль
- Онбординг‑чеклист

### Роли
- activist / researcher / engineer / investor / company / ngo / government / institution
- роль влияет на контент/меню/дашборд

**Критерий готовности:** роль сохраняется и влияет на UX.

---

## Этап 2 — Соцсеть и контент
### Лента и посты
- общий feed
- публикации: post, research, news

### Комментарии и ветки
- комменты к постам
- комменты к объектам воды
- базовая ветвистость

### Модерация
- флаги/репорты
- скрытие контента

**Критерий готовности:** полноценная лента + обсуждения.

---

## Этап 3 — Карта/глобус и объекты
### Навигация по карте
- клик → фокус → зум
- globe → map

### Карточки объекта
- метрики
- обсуждения
- взаимосвязи

### Взаимосвязи
- проекты ↔ объекты
- источники ↔ субъекты

**Критерий готовности:** объект можно исследовать и обсуждать.

---

## Этап 4 — TokenHub (VOD credits)
### Экономика MVP
- покупка credits (UI)
- стейкинг проектов
- отчётность по проектам

### Вестинг/бонусы
- ранние скидки
- реферальные бонусы

**Критерий готовности:** экономические действия работают.

---

## Этап 5 — WTR + data‑mint
- расчёт `W_m3`
- протокол верификации
- oracle‑pipeline

**Критерий готовности:** готовность к эмиссии WTR.

---

## Этап 6 — IoT‑сенсоры
- прототипы
- пилот
- массовая партия
- международная стандартизация

**Критерий готовности:** сенсоры дают валидные данные.

---

## Этап 7 — DAO
- предложения
- голосования
- делегирование
- казначейство

**Критерий готовности:** governance работает.

---

## Этап 8 — Институциональные контуры
- гос/НКО кабинеты
- KPI‑дашборды
- комплаенс‑панели

**Критерий готовности:** институционалы могут работать.

---

## Этап 9 — Маркетинг и рост
- airdrop механики
- рефералы
- партнёрские программы

**Критерий готовности:** рост и масштабирование.

---

## Этап 10 — Релиз
- UX/UI polish
- нагрузка/тесты
- юридические блоки
- финальный whitepaper

**Критерий готовности:** публичный релиз.
