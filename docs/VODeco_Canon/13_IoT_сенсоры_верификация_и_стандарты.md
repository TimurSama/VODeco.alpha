# IoT‑сенсоры, верификация и стандартизация (канон)

Цель: описать протокол **сбора, верификации и запечатывания** данных воды, а также план разработки сенсоров и их стандартизацию на международном уровне.

---

## 1) Протокол верификации и запечатывания (Data‑Mint)

### 1.1 Поток данных
```
Сенсор → Шлюз/агрегатор → Валидация → Подпись → Хэш → Ноды → Data‑Mint
```

### 1.2 Шаги
1. **Измерение**: сенсор фиксирует параметры воды (pH, мутность, TDS, DO, температура).
2. **Калибровка**: локальная проверка против эталона.
3. **Агрегация**: шлюз собирает серию измерений.
4. **Валидация**:
   - проверка диапазонов и аномалий,
   - сверка с соседними датчиками/источниками,
   - временные сигнатуры.
5. **Подпись**: валидатор подписывает пакет.
6. **Хэширование**: формируется хэш пакета данных.
7. **Запечатывание в ноды**: хэш и метаданные пишутся в реестр.
8. **Data‑Mint**: выпуск WTR по объёму подтверждённых данных.

---

## 2) Архитектура сенсоров (высокоуровневая)

```
┌──────────────────────────────────────┐
│ Сенсорный модуль                      │
│  - pH / Turbidity / TDS / DO          │
│  - Температура                         │
└───────────────┬──────────────────────┘
                │
┌───────────────▼──────────────────────┐
│ Контроллер (MCU)                      │
│  - Edge‑фильтрация                     │
│  - Калибровка                          │
│  - Подпись пакетов                     │
└───────────────┬──────────────────────┘
                │
┌───────────────▼──────────────────────┐
│ Коммуникации                           │
│  - LoRaWAN / LTE‑M / NB‑IoT            │
│  - Буфер при потере связи              │
└───────────────┬──────────────────────┘
                │
┌───────────────▼──────────────────────┐
│ Шлюз / Aggregator                      │
│  - Batch‑валидация                     │
│  - Отправка в сеть                     │
└───────────────┬──────────────────────┘
                ▼
             Ноды сети
```

---

## 3) План разработки сенсоров (этапы)

### Этап 0 — Исследование (1–2 мес)
- Анализ требований и стандартов
- Выбор сенсорных модулей
- Проектирование прототипа

### Этап 1 — Прототип (3–4 мес)
- Сборка 10–50 единиц
- Лабораторные тесты (точность/дрейф)
- Полевые испытания (несколько регионов)

### Этап 2 — Пилотная партия (4–6 мес)
- 300–1000 сенсоров
- Развёртывание с валидаторами
- Проверка data‑mint и oracle‑pipeline

### Этап 3 — Массовое производство (6–12 мес)
- 10,000+ сенсоров
- Массовое масштабирование
- Интеграция с национальными/международными партнёрами

---

## 4) Предварительная оценка бюджета
*(ориентиры, уточняются после проектирования)*

- R&D и прототипы: **$150k–300k**
- Пилотная партия (500–1000 шт): **$250k–600k**
- Массовое производство (10k+): **$1.5M–3.5M**

---

## 5) Стандартизация и унификация
Цель — единый глобальный стандарт измерений и форматов:

### 5.1 Документация стандарта
- Спецификация сенсора (допуски, точность, калибровка)
- Формат данных (JSON/CBOR, поля, подписи)
- Протоколы передачи и шифрования
- Политика верификации и аудита

### 5.2 Международное согласование
- Координация с международными организациями
- Публичная экспертиза стандартов
- Выпуск унифицированных требований для всех участников

---

## 6) Научное сопровождение
- Партнёрства с университетами и лабораториями
- Публикации методик
- Peer‑review по алгоритмам валидации

---

## 7) Мини‑схема governance
```
DAO → утверждает стандарты
      ↓
Тех. комитет → обновляет спецификации
      ↓
Валидаторы → проверяют соответствие
```
